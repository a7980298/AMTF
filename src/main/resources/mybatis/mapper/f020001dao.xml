<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.amtf.demo.dao.f020001Dao">
	<select id="f020001_Select1" resultType="com.amtf.demo.f010001entity.f010001_select1entity">
		SELECT
			 *
		FROM 
			AMTF_User
		WHERE 
			USER_power &lt; CONVERT(#{pow} USING gb2312)
	</select>
	<select id="f020001_Select2" resultType="com.amtf.demo.f010001entity.f010001_select1entity">
		SELECT
			 *
		FROM 
			AMTF_User
		WHERE 
			USER_power &lt; CONVERT(#{select2.pow} USING gb2312)
		<if test="select2.search_name != ''">
		AND
			USER_Name like '%${select2.search_name}%'
		</if>
		<if	test="select2.select_state != 2">
		AND
			USER_Attestation = #{select2.select_state}
		</if>
		<if	test="select2.search_account != ''">
		AND
			User_Account like '%${select2.search_account}%'
		</if>
		<if	test="select2.search_phone != ''">
		AND
			User_Phone like '%${select2.search_phone}%'
		</if>
	</select>
	<!--  -->
	<insert id="f020001_insert3">
		INSERT 
		INTO
			AMTF_updnotice
		VALUES(
			#{id}
			,#{head}
			,#{text}
			,NOW()
		)
	</insert>
	<!-- 刪除指定用戶id -->
	<delete id="f020001_Delect4">
		DELETE FROM 
			AMTF_USER
		WHERE
			USER_ID = #{userid}
	</delete>
	<!-- 获取通知 -->
	<select id="f020001_Select5" resultType="com.amtf.demo.f020001entity.f020001_select5entity">
		SELECT
			A1.*
		FROM
			AMTF_UPDNOTICEOVER B1
		LEFT JOIN
			AMTF_UPDNOTICE A1
		ON UNIX_TIMESTAMP(A1.UPDNOTICE_TIME) !=
			UNIX_TIMESTAMP(B1.UPDNOTICEOVER_TIME)
		WHERE
			A1.UPDNOTICE_ID != #{id}
	</select>
</mapper>
